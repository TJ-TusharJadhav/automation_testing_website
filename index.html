<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Login and Registration Page</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet" />
<style>
  * {
    box-sizing: border-box;
  }

  body {
    font-family: 'Playfair Display', serif;
    background-color: #ffffff;
    margin: 0;
    padding: 30px 20px;
    color: #333;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
  
  h1 {
    text-align: center;
    color: #007bff;
    font-weight: 700;
    font-size: 2.5em;
    margin-bottom: 10px;
  }

  .description {
    text-align: center;
    max-width: 900px;
    margin: 0 auto 30px auto;
    font-size: 1.2em;
    line-height: 1.6;
    color: #555;
  }

  .help-box {
    background-color: #e6f0ff;
    padding: 20px;
    border-radius: 12px;
    max-width: 900px;
    margin: 0 auto 30px auto;
    border: 1px solid #b0d4ff;
    font-family: 'Playfair Display', serif;
  }
  .help-box strong {
    display: block;
    margin-bottom: 8px;
    font-size: 1em;
    color: #0056b3;
  }

  .card {
    background: #fff;
    max-width: 400px;
    margin: 0 auto 50px auto;
    padding: 40px;
    border-radius: 16px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    border: 1px solid #ccc;
  }

  .card h2 {
    text-align: center;
    margin-bottom: 20px;
    color: #007bff;
    font-weight: 700;
  }

  .credentials-info {
    background-color: #cce5ff;
    padding: 15px;
    border-radius: 10px;
    font-family: 'Playfair Display', serif;
    font-size: 0.95em;
    margin-bottom: 20px;
    border: 1px solid #99ccff;
  }
  .credentials-info strong {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
  }

  form {
    display: flex;
    flex-direction: column;
  }
  label {
    font-weight: 600;
    margin-bottom: 6px;
    color: #007bff;
  }
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="tel"],
  input[type="date"],
  input[type="file"],
  textarea,
  select {
    padding: 12px 15px;
    margin-bottom: 15px;
    border: 1px solid #bbb;
    border-radius: 8px;
    font-family: 'Playfair Display', serif;
    font-size: 1em;
    transition: border-color 0.2s;
    width: 100%;
  }
  input:focus,
  textarea:focus,
  select:focus {
    border-color: #007bff;
    outline: none;
  }

  .radio-group, .checkbox-group {
    margin-bottom: 15px;
  }
  .radio-group label, .checkbox-group label {
    font-weight: normal;
    color: #333;
    margin-right: 15px;
  }
  .radio-group div, .checkbox-group div {
    margin-bottom: 8px;
  }

  button {
    background-color: #007bff;
    color: #fff;
    padding: 14px;
    border: none;
    border-radius: 8px;
    font-size: 1em;
    font-weight: 600;
    cursor: pointer;
    transition: background 0.2s;
    margin-top: 10px;
  }
  button:hover {
    background-color: #0069d9;
  }
  button.secondary {
    background-color: #6c757d;
  }
  button.secondary:hover {
    background-color: #5a6268;
  }
  button.danger {
    background-color: #dc3545;
  }
  button.danger:hover {
    background-color: #c82333;
  }

  .error {
    color: #c0392b;
    font-size: 0.9em;
    margin-bottom: 10px;
  }

  .success {
    color: #28a745;
    font-size: 1.1em;
    margin: 20px auto;
    text-align: center;
    max-width: 400px;
    padding: 20px;
    background-color: #d4edda;
    border-radius: 8px;
    border: 1px solid #c3e6cb;
  }

  .register-form {
    max-width: 600px;
    margin: 0 auto;
    display: none;
  }

  .form-row {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
  }
  .form-row > div {
    flex: 1;
  }

  .registered-users {
    max-width: 800px;
    margin: 30px auto;
    display: none;
  }
  .user-card {
    background: #fff;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    margin-bottom: 15px;
    border: 1px solid #ddd;
  }
  .user-card h3 {
    margin-top: 0;
    color: #007bff;
  }
  .user-actions {
    margin-top: 15px;
    display: flex;
    gap: 10px;
  }
  .user-photo {
    max-width: 100px;
    max-height: 100px;
    border-radius: 5px;
    margin-bottom: 10px;
  }

  .header {
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    padding: 20px 0;
    margin: -30px -20px 30px -20px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }

  .header h1 {
    color: white;
    margin: 0 0 20px 0;
    text-align: center;
  }

  .nav-tabs {
    display: flex;
    justify-content: center;
    gap: 0;
    max-width: 400px;
    margin: 0 auto;
    background: rgba(255,255,255,0.1);
    border-radius: 25px;
    padding: 4px;
  }

  .nav-tab {
    flex: 1;
    padding: 12px 20px;
    background: transparent;
    color: white;
    border: none;
    border-radius: 20px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Playfair Display', serif;
    font-weight: 600;
  }

  .nav-tab:hover {
    background: rgba(255,255,255,0.1);
  }

  .nav-tab.active {
    background: white;
    color: #007bff;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  }

  .tab-content {
    display: none;
  }

  .tab-content.active {
    display: block;
  }

  .main-content {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
</style>
</head>
<body>

<div class="header">
  <div class="main-content">
    <h1>User Management System</h1>
    <div class="nav-tabs">
      <button class="nav-tab active" onclick="showTab('login')">Login</button>
      <button class="nav-tab" onclick="showTab('register')">Register</button>
    </div>
  </div>
</div>

<div class="main-content">
  <!-- Login Tab -->
  <div id="loginTab" class="tab-content active">
    <p class="description">
      Login with your credentials to access the user management system.
    </p>

    <!-- Login Card -->
    <div class="card" id="loginCard">
      <h2>Login</h2>
      <div class="credentials-info">
        <strong>Valid Credentials:</strong>
        Email: user@example.com<br>
        Password: password123
      </div>
      <form id="loginForm" novalidate>
        <label for="email">Email</label>
        <input type="email" id="email" placeholder="Enter your email" />
        <div class="error" id="emailError"></div>

        <label for="password">Password</label>
        <input type="password" id="password" placeholder="Enter your password" />
        <div class="error" id="passwordError"></div>

        <button type="submit">Login</button>
        <div class="error" id="credentialError"></div>
      </form>
    </div>

    <!-- Success message after login -->
    <div id="successMessage" class="success" style="display: none;">
      <h2>Login Successful! ðŸŽ‰</h2>
      <p>You have successfully logged in.</p>
      <button onclick="showTab('register')">Add New User</button>
      <button class="secondary" onclick="location.reload()">Log Out</button>
    </div>

    <!-- Registered Users List -->
    <div id="registeredUsers" class="registered-users">
      <h2>Registered Users</h2>
      <div id="usersList"></div>
    </div>
  </div>

  <!-- Register Tab -->
  <div id="registerTab" class="tab-content">
    <p class="description">
      Register new users in the system. All fields are required unless specified otherwise.
    </p>

    <!-- Registration Form -->
    <div class="register-form" style="display: block;">
      <div class="card" style="max-width: 600px;">
        <h2>Registration Form</h2>
        <form id="registrationForm" enctype="multipart/form-data">
          <div class="form-row">
            <div>
              <label for="firstName">First Name</label>
              <input type="text" id="firstName" placeholder="Enter first name" required>
            </div>
            <div>
              <label for="lastName">Last Name</label>
              <input type="text" id="lastName" placeholder="Enter last name" required>
            </div>
          </div>

          <label for="address">Address</label>
          <textarea id="address" rows="3" placeholder="Enter your address" required></textarea>

          <div class="form-row">
            <div>
              <label for="regEmail">Email</label>
              <input type="email" id="regEmail" placeholder="Enter email" required>
            </div>
            <div>
              <label for="phone">Phone</label>
              <input type="tel" id="phone" placeholder="Enter phone number" required>
            </div>
          </div>

          <div class="radio-group">
            <label>Gender</label>
            <div>
              <input type="radio" id="male" name="gender" value="male" checked>
              <label for="male">Male</label>
            </div>
            <div>
              <input type="radio" id="female" name="gender" value="female">
              <label for="female">Female</label>
            </div>
            <div>
              <input type="radio" id="other" name="gender" value="other">
              <label for="other">Other</label>
            </div>
          </div>

          <div class="checkbox-group">
            <label>Hobbies</label>
            <div>
              <input type="checkbox" id="reading" name="hobbies" value="reading">
              <label for="reading">Reading</label>
            </div>
            <div>
              <input type="checkbox" id="sports" name="hobbies" value="sports">
              <label for="sports">Sports</label>
            </div>
            <div>
              <input type="checkbox" id="music" name="hobbies" value="music">
              <label for="music">Music</label>
            </div>
            <div>
              <input type="checkbox" id="travel" name="hobbies" value="travel">
              <label for="travel">Travel</label>
            </div>
          </div>

          <label for="skills">Skills</label>
          <select id="skills" required>
            <option value="">Select your skill level</option>
            <option value="beginner">Beginner</option>
            <option value="intermediate">Intermediate</option>
            <option value="advanced">Advanced</option>
            <option value="expert">Expert</option>
          </select>

          <label for="dob">Date of Birth</label>
          <input type="date" id="dob" required>

          <label for="photo">Upload Photo (Optional)</label>
          <input type="file" id="photo" accept="image/*">

          <input type="hidden" id="editId" value="">

          <button type="submit" id="saveBtn">Save User</button>
          <button type="button" class="secondary" onclick="cancelRegistration()">Cancel</button>
        </form>
      </div>
    </div>
  </div>
</div>

<script>
  // Valid credentials
  const validEmail = "user@example.com";
  const validPassword = "password123";
  const STORAGE_KEY = "registeredUsers";

  // DOM elements
  const form = document.getElementById('loginForm');
  const emailInput = document.getElementById('email');
  const passwordInput = document.getElementById('password');
  const emailError = document.getElementById('emailError');
  const passwordError = document.getElementById('passwordError');
  const credentialError = document.getElementById('credentialError');
  const successMessage = document.getElementById('successMessage');
  const loginCard = document.getElementById('loginCard');
  const registrationForm = document.getElementById('registrationForm');
  const registeredUsers = document.getElementById('registeredUsers');
  const usersList = document.getElementById('usersList');
  const saveBtn = document.getElementById('saveBtn');

  // Tab management
  function showTab(tabName) {
    // Hide all tabs
    document.querySelectorAll('.tab-content').forEach(tab => {
      tab.classList.remove('active');
    });
    
    // Remove active class from all nav tabs
    document.querySelectorAll('.nav-tab').forEach(tab => {
      tab.classList.remove('active');
    });
    
    // Show selected tab
    document.getElementById(tabName + 'Tab').classList.add('active');
    
    // Add active class to selected nav tab
    event.target.classList.add('active');
    
    // Load users when switching to login tab (if logged in)
    if (tabName === 'login' && localStorage.getItem('isLoggedIn') === 'true') {
      loadUsers();
    }
  }

  // Initialize the app
  document.addEventListener('DOMContentLoaded', function() {
    // Check if user is already logged in (for page refresh)
    if (localStorage.getItem('isLoggedIn') === 'true') {
      loginSuccess();
    }
  });

  // Login form submission
  form.addEventListener('submit', function(e) {
    e.preventDefault();
    emailError.textContent = "";
    passwordError.textContent = "";
    credentialError.textContent = "";

    const email = emailInput.value.trim();
    const password = passwordInput.value.trim();
    let valid = true;

    if (!email) {
      emailError.textContent = "Email is required.";
      valid = false;
    } else if (!validateEmail(email)) {
      emailError.textContent = "Invalid email.";
      valid = false;
    }

    if (!password) {
      passwordError.textContent = "Password is required.";
      valid = false;
    }

    if (!valid) return;

    if (email !== validEmail || password !== validPassword) {
      credentialError.textContent = "Wrong email or password.";
      return;
    }

    loginSuccess();
    localStorage.setItem('isLoggedIn', 'true');
  });

  // Registration form submission
  registrationForm.addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Get form values
    const user = {
      id: Date.now().toString(),
      firstName: document.getElementById('firstName').value,
      lastName: document.getElementById('lastName').value,
      address: document.getElementById('address').value,
      email: document.getElementById('regEmail').value,
      phone: document.getElementById('phone').value,
      gender: document.querySelector('input[name="gender"]:checked').value,
      hobbies: Array.from(document.querySelectorAll('input[name="hobbies"]:checked')).map(cb => cb.value),
      skills: document.getElementById('skills').value,
      dob: document.getElementById('dob').value,
      photo: null,
      editId: document.getElementById('editId').value
    };

    // Handle photo upload
    const photoInput = document.getElementById('photo');
    if (photoInput.files.length > 0) {
      const reader = new FileReader();
      reader.onload = function(e) {
        user.photo = e.target.result;
        saveUser(user);
      };
      reader.readAsDataURL(photoInput.files[0]);
    } else {
      saveUser(user);
    }
  });

  function saveUser(user) {
    let users = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
    
    if (user.editId) {
      // Update existing user
      const index = users.findIndex(u => u.id === user.editId);
      if (index !== -1) {
        // Keep the existing photo if no new photo was uploaded
        if (!user.photo && users[index].photo) {
          user.photo = users[index].photo;
        }
        users[index] = user;
      }
    } else {
      // Add new user
      users.push(user);
    }
    
    localStorage.setItem(STORAGE_KEY, JSON.stringify(users));
    loadUsers();
    cancelRegistration();
    
    // Show success message
    alert(user.editId ? 'User updated successfully!' : 'User registered successfully!');
  }

  function loadUsers() {
    const users = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
    usersList.innerHTML = '';
    
    if (users.length === 0) {
      usersList.innerHTML = '<p>No users registered yet.</p>';
      return;
    }
    
    users.forEach(user => {
      const userCard = document.createElement('div');
      userCard.className = 'user-card';
      userCard.innerHTML = `
        ${user.photo ? `<img src="${user.photo}" class="user-photo" alt="User photo">` : ''}
        <h3>${user.firstName} ${user.lastName}</h3>
        <p><strong>Email:</strong> ${user.email}</p>
        <p><strong>Phone:</strong> ${user.phone}</p>
        <p><strong>Gender:</strong> ${user.gender}</p>
        <p><strong>Hobbies:</strong> ${user.hobbies.join(', ')}</p>
        <p><strong>Skills:</strong> ${user.skills}</p>
        <p><strong>DOB:</strong> ${user.dob}</p>
        <p><strong>Address:</strong> ${user.address}</p>
        <div class="user-actions">
          <button onclick="editUser('${user.id}')">Edit</button>
          <button class="danger" onclick="deleteUser('${user.id}')">Delete</button>
        </div>
      `;
      usersList.appendChild(userCard);
    });
  }

  function editUser(userId) {
    const users = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
    const user = users.find(u => u.id === userId);
    
    if (user) {
      document.getElementById('firstName').value = user.firstName;
      document.getElementById('lastName').value = user.lastName;
      document.getElementById('address').value = user.address;
      document.getElementById('regEmail').value = user.email;
      document.getElementById('phone').value = user.phone;
      
      // Set gender radio button
      document.querySelector(`input[name="gender"][value="${user.gender}"]`).checked = true;
      
      // Set hobbies checkboxes
      document.querySelectorAll('input[name="hobbies"]').forEach(cb => {
        cb.checked = user.hobbies.includes(cb.value);
      });
      
      document.getElementById('skills').value = user.skills;
      document.getElementById('dob').value = user.dob;
      document.getElementById('editId').value = user.id;
      
      saveBtn.textContent = 'Update User';
      showTab('register');
    }
  }

  function deleteUser(userId) {
    if (confirm('Are you sure you want to delete this user?')) {
      let users = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
      users = users.filter(user => user.id !== userId);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(users));
      loadUsers();
    }
  }

  function cancelRegistration() {
    registrationForm.reset();
    document.getElementById('editId').value = '';
    saveBtn.textContent = 'Save User';
    showTab('login');
  }

  function showRegisterForm() {
    showTab('register');
  }

  function loginSuccess() {
    loginCard.style.display = "none";
    successMessage.style.display = "block";
    registeredUsers.style.display = "block";
    loadUsers();
  }

  function validateEmail(email) {
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return re.test(email);
  }
</script>
</body>
</html>
